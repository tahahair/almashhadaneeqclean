import React, { useEffect, useState } from "react";

interface ButtonWithTextProps {
  buttonText: string;
  additionalText: string;
}

const ButtonWithText: React.FC<ButtonWithTextProps> = ({
  buttonText,
  additionalText,
}) => {
  const [isHighlighted, setIsHighlighted] = useState(false);

  useEffect(() => {
    const interval = setInterval(() => {
      setIsHighlighted((prev) => !prev);
    }, 1000);

    return () => clearInterval(interval); // Clean up the interval on unmount
  }, []);

  return (
    <div className="w-full max-w-full p-4">
      {/* Button */}
      <button
        className={`bg-[#FF9500] text-white py-2 rounded-md w-full transition-all duration-300 ${
          isHighlighted ? "ring-4 ring-orange-400" : "ring-0"
        }`}
        style={{
          fontFamily: "'Almarai'",
          fontStyle: "normal",
          fontWeight: 700,
          fontSize: "120%",
          lineHeight: "150%",
          textAlign: "center",
        }}
      >
        {buttonText}
      </button>

      {/* Additional Text */}
      <div className="flex justify-end">
        <span
          style={{
            fontFamily: "Almarai",
            fontStyle: "normal",
            fontWeight: 400,
            fontSize: "90%",
            lineHeight: "100%",
            textAlign: "center",
            color: "#0C68F4",
          }}
          className="text-blue-500 text-sm py-2 flex items-center"
        >
          {additionalText}

          <svg
            width="14"
            height="14"
            viewBox="0 0 14 14"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M7.06037 5.8554e-05C7.28962 5.8554e-05 7.51538 0.0149336 7.72538 0.0499336C7.93228 0.0765853 8.13638 0.121681 8.33525 0.184684C8.53358 0.244184 8.73017 0.320892 8.925 0.414809C9.11487 0.504934 9.31 0.615184 9.50512 0.735059C9.835 0.945059 10.1596 1.11481 10.4904 1.25043C11.1413 1.51157 11.8299 1.66666 12.53 1.70981C12.8841 1.73606 13.2507 1.74948 13.6299 1.75006V5.25006C13.6299 5.91448 13.545 6.54623 13.3752 7.14531C13.2122 7.73698 12.9805 8.30756 12.6849 8.84543C12.3906 9.38257 12.0423 9.88831 11.6454 10.3548C11.2427 10.8321 10.8064 11.2801 10.3399 11.6953C9.8668 12.1112 9.36919 12.4984 8.84975 12.8547C8.32942 13.2164 7.80617 13.5497 7.28 13.8548L7.07 13.9799L6.86 13.8548C6.32026 13.5424 5.79309 13.2088 5.27975 12.8547C4.75752 12.5022 4.25968 12.1149 3.78962 11.6953C3.32342 11.2801 2.88744 10.8321 2.485 10.3548C2.08946 9.88612 1.73962 9.3807 1.44025 8.84543C1.14998 8.30505 0.918529 7.73508 0.749875 7.14531C0.58018 6.52798 0.495978 5.89028 0.499625 5.25006V1.75006C0.878792 1.74948 1.24571 1.73606 1.60038 1.70981C1.95013 1.68603 2.29761 1.63602 2.63988 1.56018C2.975 1.48493 3.31013 1.38518 3.64 1.25043C3.98222 1.1121 4.31039 0.941279 4.62 0.740309C5.005 0.490059 5.39525 0.305434 5.78025 0.183809C6.19491 0.0568368 6.62674 -0.00514782 7.06037 5.8554e-05ZM12.7496 2.61018C12.0873 2.57777 11.4312 2.46704 10.7949 2.28031C10.1622 2.09109 9.55947 1.81329 9.00463 1.45518C8.71675 1.26672 8.40438 1.11863 8.07625 1.01506C7.74828 0.916148 7.4073 0.867182 7.06475 0.869809C6.71966 0.867705 6.37615 0.916651 6.04537 1.01506C5.71686 1.11554 5.40494 1.26384 5.11962 1.45518C4.56362 1.81489 3.95939 2.09388 3.325 2.28381C2.70492 2.46406 2.05479 2.57431 1.37463 2.61456V5.25443C1.37463 5.83368 1.44988 6.39018 1.60038 6.92393C1.75383 7.45387 1.9651 7.96532 2.23038 8.44906C2.49894 8.93779 2.8155 9.39856 3.17537 9.82456C3.54025 10.2542 3.92963 10.6541 4.34963 11.0338C4.76963 11.4136 5.20975 11.7653 5.67 12.0891C6.13492 12.4134 6.59983 12.71 7.06475 12.9789C7.54072 12.7023 8.0046 12.4054 8.45512 12.0891C8.91897 11.7662 9.36147 11.4137 9.77987 11.0338C10.1999 10.6541 10.5901 10.2542 10.955 9.82456C11.3149 9.39856 11.6314 8.93779 11.9 8.44906C12.1639 7.96584 12.3721 7.45418 12.5204 6.92393C12.6756 6.38113 12.7528 5.81899 12.7496 5.25443V2.61018Z"
              fill="#0C68F4"
            />
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M10.3224 4.12055L9.93738 3.78979L9.58213 3.82042L5.76713 8.32492L4.46775 6.46992L4.11775 6.41042L3.71263 6.70005L3.65225 7.05005L5.32263 9.4353L5.5125 9.5403L5.91238 9.5648L6.11713 9.47555L10.3478 4.47492L10.3224 4.12055Z"
              fill="#0C68F4"
            />
          </svg>
        </span>
      </div>
    </div>
  );
};

export default ButtonWithText;
